<div xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index :: dynamic(~{::main})}">
    <main>
        <div class="mb-4 bg-light p-3 rounded d-flex justify-content-between align-items-center border">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item">
                        <a href="/admin/index" class="text-decoration-none fw-bold">
                            <i class="fas fa-home me-1"></i>Dashboard
                        </a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Quản lý Tài khoản</li>
                </ol>
            </nav>
            <a href="/admin/index" class="btn btn-sm btn-outline-secondary">
                <i class="fas fa-arrow-left me-1"></i> Quay lại
            </a>
        </div>

        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="bg-white p-4 rounded shadow-sm">
                    <h5 class="fw-bold mb-3">Quản lý User</h5>
                    <form th:object="${item}" method="post">
                        <div class="mb-2">
                            <label class="small fw-bold">Username</label>
                            <input th:field="*{username}" class="form-control" th:readonly="${item.username != null}">
                        </div>
                        <div class="mb-2">
                            <label class="small fw-bold">Password</label>
                            <input th:field="*{password}" type="password" class="form-control">
                        </div>
                        <div class="mb-2">
                            <label class="small fw-bold">Fullname</label>
                            <input th:field="*{fullname}" class="form-control">
                        </div>
                        <div class="mb-2">
                            <label class="small fw-bold">Email</label>
                            <input th:field="*{email}" class="form-control">
                        </div>

                        <div class="row mt-3">
                            <div class="col-6">
                                <label class="d-block small fw-bold">Vai trò</label>
                                <div class="form-check">
                                    <input th:field="*{admin}" class="form-check-input" type="radio" value="true" id="admin">
                                    <label class="form-check-label" for="admin">Admin</label>
                                </div>
                                <div class="form-check">
                                    <input th:field="*{admin}" class="form-check-input" type="radio" value="false" id="user">
                                    <label class="form-check-label" for="user">User</label>
                                </div>
                            </div>
                            <div class="col-6">
                                <label class="d-block small fw-bold">Trạng thái</label>
                                <div class="form-check">
                                    <input th:field="*{activated}" class="form-check-input" type="radio" value="true" id="active">
                                    <label class="form-check-label" for="active">Active</label>
                                </div>
                                <div class="form-check">
                                    <input th:field="*{activated}" class="form-check-input" type="radio" value="false" id="lock">
                                    <label class="form-check-label" for="lock">Locked</label>
                                </div>
                            </div>
                        </div>

                        <div class="mt-3 border-top pt-3">
                            <button formaction="/admin/accounts/create" class="btn btn-primary w-100 mb-2">Thêm mới</button>
                            <button formaction="/admin/accounts/update" class="btn btn-success w-100 mb-2">Cập nhật</button>
                            <a href="/admin/accounts/index" class="btn btn-light w-100 border">Làm mới</a>
                        </div>
                    </form>
                </div>
            </div>

            <div class="col-md-8">
                <div class="bg-white rounded shadow-sm overflow-hidden">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="bg-light">
                        <tr>
                            <th class="ps-3">Username</th>
                            <th>Họ tên</th>
                            <th>Email</th>
                            <th>Vai trò</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="acc : ${items}">
                            <td class="ps-3 fw-bold" th:text="${acc.username}"></td>
                            <td th:text="${acc.fullname}"></td>
                            <td th:text="${acc.email}" class="small text-muted"></td>
                            <td>
                                <span th:if="${acc.admin}" class="badge bg-danger">ADMIN</span>
                                <span th:unless="${acc.admin}" class="badge bg-info">USER</span>
                            </td>
                            <td class="text-end pe-3">
                                <a th:href="@{|/admin/accounts/edit/${acc.username}|}" class="btn btn-sm btn-light border"><i class="fas fa-edit"></i></a>
                                <a th:href="@{|/admin/accounts/delete/${acc.username}|}" class="btn btn-sm btn-light border text-danger" onclick="return confirm('Xóa user này?')"><i class="fas fa-trash"></i></a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
</div>