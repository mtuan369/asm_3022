<div xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index :: dynamic(~{::main})}">
    <main>
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-white">
                <h4 class="fw-bold text-uppercase mt-2">Danh sách sản phẩm</h4>
            </div>
            <div class="card-body">
                <div class="row row-cols-1 row-cols-md-3 g-4">
                    <div class="col" th:each="p : ${items}" data-aos="fade-up" data-aos-duration="1000">
                        <div class="card h-100 product-card">
                            <div class="position-relative overflow-hidden">
                                <img th:src="${p.image}" class="card-img-top p-3"
                                     alt="Product Image" style="height: 250px; object-fit: contain;">
                                <div class="position-absolute top-0 end-0 p-2">
                                    <span class="badge bg-danger" th:text="'-' + 10 + '%'"></span>
                                </div>
                            </div>

                            <div class="card-body text-center">
                                <h5 class="card-title text-truncate">
                                    <a th:href="@{|/product/detail/${p.id}|}" class="text-decoration-none text-dark" th:text="${p.name}">Product Name</a>
                                </h5>
                                <div class="mb-2">
                                    <span class="text-danger fw-bold fs-5" th:text="${#numbers.formatCurrency(p.price)}">$0.00</span>
                                    <span class="text-muted text-decoration-line-through small ms-2"
                                          th:text="${#numbers.formatCurrency(p.price * 1.1)}"></span>
                                </div>
                            </div>

                            <div class="card-footer bg-white border-0 text-center pb-3">
                                <a th:href="@{|/cart/add/${p.id}|}" class="btn btn-warning w-100 mb-2 shadow-sm">
                                    <i class="fas fa-cart-plus"></i> Thêm vào giỏ
                                </a>
                                <a th:href="@{|/product/detail/${p.id}|}" class="btn btn-outline-info w-100">
                                    <i class="fas fa-eye"></i> Xem chi tiết
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div th:if="${items.size() == 0}" class="alert alert-warning text-center mt-3">
                    Không tìm thấy sản phẩm nào trong danh mục này!
                </div>
            </div>
        </div>
    </main>
</div>